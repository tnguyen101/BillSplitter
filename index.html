<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BillSplitter</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
    body {
        font-family: 'Arial', sans-serif;
        font-size: 16px;
        color: #343a40;
        background-color: #f8f9fa;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
    }

    h1 {
        font-family: 'Arial Black', sans-serif;
        font-size: 2em;
        color: #007BFF;
        margin-bottom: 20px;
    }

    nav {
        background-color: #007BFF;
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 5px;
    }

    nav a {
        margin-right: 15px;
        text-decoration: none;
        color: #ffffff;
        transition: color 0.3s ease;
    }

    nav a:hover {
        color: #e4e4e4;
    }

    .summary-board, .expense-table {
        background-color: #ffffff;
        padding: 15px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin-bottom: 20px;
    }

    .summary-board h2, .expense-table h2 {
        font-size: 1.5em;
        margin-bottom: 10px;
    }

    .chart-container {
        width: 400px;
        height: 400px;
        margin: 20px auto;
    }

    table {
        font-family: 'Arial', sans-serif;
        border-collapse: separate;
        border-spacing: 0;
        width: 100%;
        margin-top: 20px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        border-radius: 5px;
        overflow: hidden;
    }
    
    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 12px;
        font-size: 1.1em;
    }
    
    th {
        background-color: #007BFF;
        color: white;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    tr:hover {
        background-color: #e4e4e4;
    }
    </style>
</head>
<body>
    <h1>Welcome to BillSplitter</h1>
    
    <nav>
        <a href="/">View</a>
        <a href="/manage">Manage</a>
        <a href="/people">People</a>
    </nav>

    <div class="summary-board">
      <h2>Summary Board</h2>
      <p><strong>Total Amount Owed by Each Person:</strong></p>
      <table>
          <thead>
              <tr>
                  <th>Person</th>
                  <th>Amount Owed</th>
              </tr>
          </thead>
          <tbody id="summaryTableBody">
              <!-- Summary table will be populated dynamically -->
          </tbody>
      </table>
      <p><strong>Total Amount Owed by All:</strong> $<span id="totalAmount"></span></p>
      <div class="chart-container">
          <canvas id="pieChart"></canvas>
      </div>
    </div>

    <div class="expense-table">
      <h2>Expense Table</h2>
      <table>
          <thead>
              <tr>
                  <th>Expense</th>
                  <th>Amount</th>
                  <th>People</th>
              </tr>
          </thead>
          <tbody id="tableBody">
              <!-- Rows will be added here dynamically -->
              <tr><td>Sushi Dinner</td><td>$80.00</td><td>Travis</td></tr>
              <tr><td>Uber</td><td>$45.50</td><td>Anthony</td></tr>
              <tr><td>Boba</td><td>$75.25</td><td>Nyan</td></tr>
              <!-- Add more expenses as needed -->
          </tbody>
      </table>
    </div>

    <script>
      const expenses = [
          { name: 'Travis', amount: 80.00 },
          { name: 'Anthony', amount: 45.50 },
          { name: 'Nyan', amount: 75.25 },
          // Add more people as needed
      ];

      const totalAmount = expenses.reduce((sum, expense) => sum + expense.amount, 0);

      // Populate summary table
      const summaryTableBody = document.getElementById('summaryTableBody');
      const totalAmountElement = document.getElementById('totalAmount');

      expenses.forEach(expense => {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${expense.name}</td><td>$${expense.amount.toFixed(2)}</td>`;
          summaryTableBody.appendChild(row);
      });

      totalAmountElement.textContent = totalAmount.toFixed(2);

      // Create pie chart
      const ctx = document.getElementById('pieChart').getContext('2d');
      new Chart(ctx, {
          type:'pie',
          data:{
              labels:expenses.map(expense=>expense.name),
              datasets:[{
                  data:expenses.map(expense=>expense.amount),
                  backgroundColor:[
                      '#FF6384','#36A2EB','#FFCE56','#4BC0C0','#9966FF','#FF9F40',
                      '#FF6384','#36A2EB','#FFCE56' // Add more colors if needed
                  ]
              }]
          },
          options:{
              responsive:true,
              plugins:{
                  tooltip:{
                      callbacks:{
                          label:function(context){
                              const label=context.label||'';
                              const value=context.parsed||0; 
                              const percentage=((value/totalAmount)*100).toFixed(1);
                              return `${label}: $${value.toFixed(2)} (${percentage}%)`;
                          }
                      }
                  }
              }
          }
      });
      
      // Populate expense table (if needed)
      const tableBody = document.getElementById('tableBody');
      
      // Add fictional expenses here if you want to populate dynamically
      // Example:
      // expenses.forEach(expense => {
      //     const row = document.createElement('tr');
      //     row.innerHTML = `
      //         <td>Fictional Expense Name</td> 
      //         <td>$${expense.amount.toFixed(2)}</td> 
      //         <td>${expense.name}</td>`;
      //     tableBody.appendChild(row);
      // });
      
    </script>

</body>
</html>
